<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>إنشاء حساب - لغتنا الأم</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@900&display=swap" rel="stylesheet">
  <style>
   .form {       display: flex;       flex-direction: column;       gap: 10px;       max-width: 450px;       padding: 20px;       border-radius: 20px;       position: relative;       color: #fff;       border: 1px solid #333;       margin: 500px auto;       transform: scale(1.5);       box-shadow: 0 5px 15px rgba(0, 0, 0, 0.95);        width: 100%;       height: 100%;       background: radial-gradient(           circle farthest-side at 0% 50%,           var(--main-color) 23.5%,           rgba(240, 166, 17, 0) 0         )         21px 30px,         radial-gradient(           circle farthest-side at 0% 50%,           #b71 24%,           rgba(240, 166, 17, 0) 0         )         19px 30px,         linear-gradient(           var(--main-color) 14%,           rgba(240, 166, 17, 0) 0,           rgba(240, 166, 17, 0) 85%,           var(--main-color) 0         )         0 0,         linear-gradient(           150deg,           var(--main-color) 24%,           #b71 0,           #b71 26%,           rgba(240, 166, 17, 0) 0,           rgba(240, 166, 17, 0) 74%,           #b71 0,           #b71 76%,           var(--main-color) 0         )         0 0,         linear-gradient(           30deg,           var(--main-color) 24%,           #b71 0,           #b71 26%,           rgba(240, 166, 17, 0) 0,           rgba(240, 166, 17, 0) 74%,           #b71 0,           #b71 76%,           var(--main-color) 0         )         0 0,         linear-gradient(90deg, #b71 2%, var(--main-color) 0, var(--main-color) 98%, #b71 0%) 0 0 var(--main-color);       background-size: 40px 60px;     }      .title {       font-size: 35px;       font-weight: 600;       letter-spacing: -1px;       position: relative;       display: flex;       align-items: center;       padding-right: 30px;       color: white;     }      .title::before {       width: 22px;       height: 22px;     }      .title::after {       width: 22px;       height: 22px;       animation: pulse 1s linear infinite;     }      .title::before,     .title::after {       position: absolute;       content: "";       height: 20px;       width: 20px;       border-radius: 50%;       right: 0px;       background-color: white;     }      .message,     .signin {       font-size: 17px;       color: rgba(255, 255, 255, 0.7);     }      .signin {       text-align: center;     }      .signin a:hover {       text-decoration: underline royalblue;     }      .signin a {       color: white;     }      .flex {       display: flex;       gap: 10px;       width: 100%;       margin: auto;       flex-wrap: wrap;     }      .form label {       position: relative;       width: 100%;       margin: auto;     }      .form label .input {       background-color: #333;       color: #fff;       width: 90%;       padding: 20px 5px 5px 10px;       outline: 0;       border: 1px solid rgba(105, 105, 105, 0.397);       border-radius: 10px;       text-align: right;     }      .form label .input + span {       color: rgba(255, 255, 255, 0.5);       position: absolute;       right: 10px;       top: 0px;       font-size: 0.9em;       cursor: text;       transition: 0.3s ease;     }      .form label .input:placeholder-shown + span {       top: 12.5px;       font-size: 0.9em;       right: 10px;     }      .form label .input:focus + span,     .form label .input:valid + span {       color: #00bfff;       top: 0px;       font-size: 0.7em;       font-weight: 600;       right: 10px;     }      .input {       font-size: medium;     }      .submit {       border: none;       outline: none;       padding: 10px 20px;       border-radius: 10px;       color: #fff;       font-size: 16px;       background-color: #F737FF;       margin: 10px;       font-family: 'Cairo', sans-serif;       position: relative;       overflow: hidden;       cursor: pointer;       transition: color 0.3s, font-size 0.3s;       z-index: 1;     }      /* الطبقة المتحركة */     .submit::before {       content: '';       position: absolute;       top: 0;       right: 0;       width: 100%;       height: 100%;       background: var(--main-color);       z-index: -1;       transform: translateX(100%);       transition: transform 0.5s ease;     }      /* نستخدم blend mode عشان نخلي الطبقة تمر من ورا النص */     .submit {       position: relative;       z-index: 2;     }      /* حركة عند الهوفر */     .submit:hover::before {       transform: translateX(0);     }      /* تنسيق عند الهوفر */     .submit:hover {       border: 2px #F737FF solid;       box-shadow: 0 5px 15px #F737FF;       color: #F737FF;       font-size: 18px;       font-weight: bold;       z-index: 999;     }      @keyframes pulse {       from {         transform: scale(0.9);         opacity: 1;       }        to {         transform: scale(1.8);         opacity: 0;       }     } 

  </style>
   <script src="auth-status.js"></script>
</head>
<body>

  

 <header>لغتنا الأم</header>

  <nav>
    <a href="index.html">الرئيسية</a>
    <a href="about.html">من أنا؟</a>
    <a href="contact.html">تواصل معنا</a>
    <a id="acc" href="login.html">تسجيل دخول</a>
  </nav>


<form id="registerForm" class="form animate_animated animate_zoomInUp">
  <p class="title">إنشاء حساب </p>

  <div class="flex">
    <label>
      <input id="firstName" class="input" type="text" required>
      <span>الإسم الأول</span>
    </label>
    <label>
      <input id="lastName" class="input" type="text" required>
      <span>الإسم الأخير</span>
    </label>
  </div>

  <div class="flex">
    <label>
      <input id="email" class="input" type="email" required>
      <span>البريد الالكتروني</span>
    </label>
  </div>

  <div class="flex">
    <label>
      <input id="phone" class="input" type="number" required>
      <span>رقم الهاتف</span>
    </label>
  </div>

  <div class="flex">
    <label>
      <input id="password" class="input" type="password" required>
      <span>كلمة السر</span>
    </label>
  </div>

  <div class="flex">
    <label>
      <input id="confirmPassword" class="input" type="password" required>
      <span>تأكيد كلمة السر</span>
    </label>
  </div>

  <p id="error" style="color: red; text-align: center;"></p>

  <button class="submit" type="submit">إنشاء</button>
  <p class="signin">هل تمتلك حساب؟ <a href="login.html">تسجيل دخول</a></p>
</form>


  <footer>© 2025 لغتنا الأم - جميع الحقوق محفوظة</footer>

  <div class="whatsapp-float">
    <a href="https://wa.me/201557995387" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="واتساب">
    </a>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

  <script>
    // إعداد Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCgOOI9kQPJ-cBkjpMkuQYNLKLlPgNR-Mg",
      authDomain: "lo8tna.firebaseapp.com",
      projectId: "lo8tna",
      storageBucket: "lo8tna.firebasestorage.app",
      messagingSenderId: "189349109049",
      appId: "1:189349109049:web:c5ed0efadf68e53a849ce8",
      measurementId: "G-QW4RKCSHWB"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      // المستخدم مسجل دخول بالفعل → نعيد توجيهه للصفحة الرئيسية أو لوحة التحكم
      window.location.href = "account.html"; // غيّر الرابط حسب الحاجة
    }
  });

  </script>

  <script>
    const form = document.getElementById('registerForm');
    const errorMsg = document.getElementById('error');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;

      if (password !== confirmPassword) {
        errorMsg.textContent = "❌ كلمة المرور غير متطابقة";
        return;
      }

      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          return user.updateProfile({
            displayName: `${firstName} ${lastName}`
          });
        })
        .then(() => {
          alert("✅ تم إنشاء الحساب بنجاح!");
          window.location.href = "login.html";
        })
        .catch((error) => {
          errorMsg.textContent = `❌ ${error.message}`;
        });
    });






  </script>
<script src="auth-status.js"></script>

</body>
</html>